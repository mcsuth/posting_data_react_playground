<!DOCTYPE html>
<html>
  <head>
    <title>Hello React</title>
    <script src="http://fb.me/react-0.12.2.js"></script>
    <script src="http://fb.me/JSXTransformer-0.12.2.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
  <body>
    <div id="app"></div>

    <script type="text/jsx">

      // Parent Component
      var HelloUser = React.createClass({
          getInitialState: function(){
            return {
              username: '@mcsuth'
            }
          },

          onClickHandleChange: function(event) {
              this.setState({
                  username: event.target.value,
              });
          },

          render: function(){
            return (
              <div style={{'background': '#eee'}}>
                <p>Parent Component</p>
                Hello {this.state.username} <br/>
                Change username: <input type="text" value={this.state.username} onChange={this.onClickHandleChange}/>
              </div>
            )
          }
      });

      // Child I Component
      var FriendsContainer = React.createClass({
        getInitialState: function(){
          return {
            name: 'Tyler McGinnis',
            friends: ['Jake Lingwall', 'Murphy Randall', 'Merrick Christensen']
          }
        },

        render: function(){
          return (
            <div style={{'background': '#DDD'}}>
              <p>Child I Component</p>
              <HelloUser/>
              <h3> Name: {this.state.name} </h3>
              <ShowList names={this.state.friends} />
              <hr/>
              <p>Wrapping Component</p>
              <span><WrappingText>Heyyyy guurl</WrappingText></span>
            </div>
          )
        }
      });

      // Child II Component
      var ShowList = React.createClass({
        render: function(){
          var listItems = this.props.names.map(function(friend){
            return <li> {friend} </li>;
          });
          return (
            <div style={{'background': '#CCC'}}>
              <p>Child II Component</p>
              <h3> Friends </h3>
              <ul>
                {listItems}
              </ul>
            </div>
          )
        }
      });

      // A Wrapping Compnent
      var WrappingText = React.createClass({
        render: function() {
          return (
            <div style={{'background': 'pink'}}>{this.props.children}</div>
          )
        }
      });

      React.render(<FriendsContainer />, document.getElementById('app'));

    </script>
  </body>
</html>